{% extends "base.html" %}
{% block content %}
<a href="/task/{{ task.id }}">{{ task.name }}</a>
<p>{{ task.date }}</p>
<p>{{ task.description }}</p>
<p>{{ task.category.name }}</p>
<a href="/task/{{ task.id }}/delete">delete</a>
<script>
$(function() {
$("#datepicker-input").datepicker({
    format: 'mm/dd/yyyy'
});
});
</script>
<form action="/task/{{ task.id }}" method="post" id="new_task">
  <div class="form-group">
    <label for="name-input">Name</label>
    <input type="text" class="form-control" id="name-input" name="name" value="{{ task.name }}" />
  </div>
  <div class="form-group">
    <label for="description-input">Description</label>
    <input type="text" class="form-control" id="description-input" name="description" value="{{ task.description }}" />
  </div>
  <div class="form-group">
    <label for="category-input">Category</label>
    <select name="category" form="new_task" class="form-control">
    {% for category in categories %}
      <option value="{{ category.name }}">{{ category.name }}</option>
    {% endfor %}
    </select>
  </div>
  <div class="form-group">
    <label for="datepicker-input">Date</label>
    <div class="input-group date">
        <input type="text" class="form-control" id="datepicker-input" value="{{ task.date.strftime('%m/%d/%Y') }}" autocomplete="off">
        <div class="input-group-addon"><span class="glyphicon glyphicon-th" aria-hidden="true"></span></div>
    </div>
  </div>
  <div class="form-group">
    <button type="submit" class="btn btn-default">Update Task</button>
  </div>
</form>  
{% endblock %}
